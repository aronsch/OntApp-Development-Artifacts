<div>
    <requirement-inline-search></requirement-inline-search>
    <!--<div class="panel-group">-->
    <ul class="list-group" ng-if="showRelatedList">
        <!-- TODO: replace with requirementPicker -->
        <li class="list-group-item active"
            ng-repeat="item in requirement.Properties.relatedRequirements(relation).reverse()">
            <h4 class="list-group-item-heading">
                <button class="btn btn-sm btn-danger"
                        ng-click="requirement.Properties.removeRelatedRequirement(item);">
                    Remove
                </button>
                &nbsp;
                <span class="req-title-expand-desc">
                        {{ item.Label }}
                    </span>
                <div ng-if="relation !== 'SuperRequirement' " class="btn-group pull-right hidden-xs" uib-dropdown
                     uib-keyboard-nav>
                    <button id="simple-btn-keyboard-nav" type="button" class="btn btn-primary" uib-dropdown-toggle>
                        {{ item.Subtype || 'Subtype' }}&nbsp;<span class="caret"></span>
                    </button>
                    <ul uib-dropdown-menu role="menu" aria-labelledby="simple-btn-keyboard-nav">
                        <li role="menuitem" ng-hide="item.Subtype === ''">
                            <a ng-click="requirement.Properties.removeRelatedRequirementSubtype(item)">&nbsp;</a>
                        </li>
                        <li role="menuitem" ng-repeat="subtypeItem in subtypes.Properties">
                            <a ng-click="requirement.Properties.addRelatedRequirement(item, relation, subtypeItem.Label)">{{
                                subtypeItem.Label }}</a>
                        </li>
                    </ul>
                </div>
            </h4>
            <p class="list-group-item-text"
               ng-if="item.Properties.Description.Value.length"
               ng-bind-html="item.Properties.Description.Value"></p>
        </li>
    </ul>
</div>